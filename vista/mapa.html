        <div id="map_canvas" style="height:500px;"></div>

    <script>
	var lat = 19.3907337;
	var lng = -99.1436126;
	getLocation();
	
	function getLocation() {
		if (navigator.geolocation) {
			navigator.geolocation.getCurrentPosition(getPosition);
		} else {
			alert("No es posible establecer la ubicaci√≥n");
			goMap();
		}
	}
	function getPosition(position) {
		lat = position.coords.latitude;
		lng =  position.coords.longitude; 
		goMap();
	}
	function goMap(){
		var latLng = new google.maps.LatLng(lat,lng);
		$('#map_canvas').gmap().bind('init', function(ev, map) {
			$('#map_canvas').gmap('option', 'center', latLng);
			$('#map_canvas').gmap('option', 'zoom', 12);   
		});
	}
	
    </script>